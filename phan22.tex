\subsection{Đồ thị phẳng}
\begin{definition}[Đồ thị phẳng]
    % Một cách để vẽ đồ thị, biểu diễn đỉnh bởi các điểm và cạnh bởi cách đường nối các điểm được gọi là biểu diễn của đồ thị.
    % Một biểu diễn của đồ thị được nhúng trên mặt phẳng.
    % Một đồ thị có một cách biểu diễn mà các cạnh không cắt nhau ngoài trừ tại đầu mút thì gọi là đồ thị phẳng.
    % Khi đó, biểu diễn của đồ thị gọi là biểu diễn phẳng
    Đồ thị phẳng là đồ thị mà ta có thể vẽ nó trên một mặt phẳng, biểu diễn đỉnh bởi các điểm và cạnh bởi các đường nối các điểm, sao cho cho các cạnh chỉ giao nhau tại các đầu mút.
    Cách vẽ như vậy được gọi là biểu diễn phẳng của đồ thị.
\end{definition}

\begin{figure}[H]
    \centering
    \begin{minipage}{0.4\textwidth}

        \begin{tikzpicture}
            \draw[black, thick] (0,1) -- (2,0);
            \draw[black, thick] (2,0) -- (4,1);
            \draw[black, thick] (4,1) -- (4,3);
            \draw[black, thick] (4,3) -- (2,4);
            \draw[black, thick] (2,0) -- (2,4);
            \draw[black, thick] (2,4) -- (0,3);
            \draw[black, thick] (0,3) -- (0,1);
            \draw[black, thick] (4,3) arc (0:270-asin(3/5):2.5);
            \filldraw[purple] (0,1) circle (3pt);
            \filldraw[purple] (4,1) circle (3pt);
            \filldraw[purple] (2,4) circle (3pt);
            \filldraw[blue] (0,3) circle (3pt);
            \filldraw[blue] (4,3) circle (3pt);
            \filldraw[blue] (2,0) circle (3pt);
            \node at (2,-1,0) {Biểu diễn phẳng};
        \end{tikzpicture}
    \end{minipage}
    \hspace{2cm}
    \begin{minipage}{0.4\textwidth}

        \begin{tikzpicture}
            \draw[black, thick] (0,1) -- (2,0);
            \draw[black, thick] (2,0) -- (4,1);
            \draw[black, thick] (4,1) -- (4,3);
            \draw[black, thick] (4,3) -- (2,4);
            \draw[black, thick] (2,0) -- (2,4);
            \draw[black, thick] (2,4) -- (0,3);
            \draw[black, thick] (0,3) -- (0,1);
            \draw[densely dotted, black, thick] (0,3) -- (4,1);
            \draw[black, thick] (4,3) arc (0:270-asin(3/5):2.5);
            \filldraw[purple] (0,1) circle (3pt);
            \filldraw[purple] (4,1) circle (3pt);
            \filldraw[purple] (2,4) circle (3pt);
            \filldraw[blue] (0,3) circle (3pt);
            \filldraw[blue] (4,3) circle (3pt);
            \filldraw[blue] (2,0) circle (3pt);
            \draw[pink] (2,2) circle (0.3);
            \node at (2,-1,0) {Không phải biểu diễn phẳng};
        \end{tikzpicture}
    \end{minipage}

\end{figure}
\begin{definition}
    Không gian khép kín được phân vùng bởi biểu diễn phẳng được gọi là diện. Số diện của đồ thị kí hiệu bởi $\phi$.
    Trong biểu diễn phẳng của đồ thị, bậc của diện $f$, kí hiệu $deg(f)$, là số cạnh liên thuộc với $f$, với cầu được đếm hai lần.
\end{definition}

\begin{definition}
    \label{def:dualgraph}
    Đồ thị đối ngẫu của đồ thị phẳng $G$, kí hiệu $G^*$ là đồ thị được xây dựng bằng cách: mỗi đỉnh $v^*$ trong $G^*$ tương ứng với một diện $f$ trong $G$
    và mỗi cạnh $e^*$ trong $G^*$ tương ứng với một cạnh $e$ trong $G$, 2 đỉnh trong $G^*$, $u^*$ và $w^*$, được nối bởi cạnh $e^*$ khi và chỉ khi chúng tương ứng với 2 diện trong $G$, $f$ và $g$, được phân chia bởi $e$.
\end{definition}
\begin{figure}[H]
    \centering
    \begin{tikzpicture}[
            V/.style = {
                    draw,circle,thick,fill=#1},
            V/.default = blue, scale = 0.9
        ]

        \node[V] (A) at (0,0)[] {A};
        \node[V] (B) at (3,0) {B};
        \node[V] (C) at (6,-2) {C};
        \node[V] (D) at (0,-4) {D};
        \node[V] (E) at (3,-4) {E};
        \begin{scope}[V/.default = red]
            \node[V] (ABD) at (1.5,-1) {};
            \node[V] (BDE) at (2,-3) {};
            \node[V] (out) at (-2,2) {};
            \node[V] (BCE) at (4.5,-2) {};
        \end{scope}

        %%graph G
        \draw[blue, thick]
        (A) to ["$e_2$ ",near end] (B)
        (A) to ["$e_1$ " '] (D)
        (D) to ["$e_5$ "] (B)
        (D) to ["$e_4$ ",near start] (E)
        (E) to ["$e_6$ " ',near end] (B)
        (E) to ["$e_7$ " ',near end] (C)
        (B) to ["$e_3$ ",near start] (C);
        %%dual graph G*
        \clip (-4,-6) rectangle + (10.5,9.2);% remove empty spaces caused by looseness option
        %\draw (-4,-6) rectangle + (10.5,9.2); % to see clip border
        \draw[red,dashed, thick]
        (ABD) to ["$e^*_5$ ",near end] (BDE)
        (ABD) to ["$e^*_2$ ",bend right=50,swap,near end] (out)
        (BDE) to ["$e^*_6$ " '] (BCE)
        (BCE) to ["$e^*_3$ " ',bend right=100] (out)
        (out) to ["$e^*_1$ " ',bend right=50]  (ABD)
        (out) to ["$e^*_7$ " ', out=-135,in=-105,looseness=2.7] (BCE)
        (out) to ["$e^*_4$ "  , out=-135,in=-120,looseness=2.2] (BDE);
    \end{tikzpicture}
    \caption*{Đồ thị $G^*$ (\textcolor{red}{Đỏ}) là đối ngẫu của đồ thị $G$ (\textcolor{blue}{Xanh}) và ngược lại}
\end{figure}
\begin{theorem}
    Cho đồ thị phẳng $G$, $F(G)$ là tập hợp các diện của $G$, biểu thức sau luôn đúng:
    $$\sum_{f \in F(G)}deg(f) = 2\epsilon $$
\end{theorem}
\begin{proof}
    Xét đồ thị đối ngẫu $G^*$ của $G$. Từ \hyperref[thr:v2e]{định lý 1}, ta có:
    $$\sum_{v^* \in V^*}deg(v^*) = 2\epsilon^*$$
    Từ định nghĩa \hyperref[def:dualgraph]{đồ thị đối ngẫu}, $\forall f \in F(G), deg(f)=deg(v^*)$ và $\epsilon = \epsilon^*$. Vậy nên
    $$\sum_{f \in F(G)}deg(f) = \sum_{v^* \in V^*}deg(v^*) = 2\epsilon^* = 2\epsilon$$
\end{proof}
\begin{theorem}[Công thức Euler]
    \label{thr:euler}
    Cho $G$ là đồ thị phẳng và liên thông, biểu thức sau luôn đúng: $$\nu -\epsilon+\phi=2$$
\end{theorem}
\begin{proof}
    Ta chứng minh bằng quy nạp theo số cạnh.

    \begin{itemize}

        \item Bước cơ sở: $\epsilon=0$

              Vì $G$ liên thông nên $\nu=1, \phi = 1$, suy ra $\nu-\epsilon+\phi = 1 - 0 + 1 = 2$.
              Do đó biểu thức đúng với $\epsilon = 0$.

        \item Bước quy nạp: giả sử $\epsilon(G) = k$ thỏa mãn $\nu(G)-\epsilon(G)+\phi(G)=2$. Gọi $H$ là đồ thị phẳng thỏa mãn $\epsilon(H) = k+1$ và $H$ thu được bằng cách thêm cạnh $e$ vào $G$.
              \begin{itemize}
                  \item Trường hợp 1: $e$ là một khuyên được thêm vào 1 đỉnh của $G$. Khi đó $\nu(H) = \nu(G)$.
                        Vì $H$ là đồ thị phẳng nên khuyên $e$ không cắt bất kỳ cạnh nào trong $G$, do đó khuyên $e$ sẽ tạo 1 diện mới, suy ra $\phi(H) = \phi(G)+1$.
                        Ta có:
                        \begin{eqnarray*}
                            \nu(H)-\epsilon(H)+\phi(H)& = &\nu(H)-(\epsilon(G) +1)+(\phi(G)+1) \\
                            & = & \nu(G)-\epsilon(G)+\phi(G)\\
                            & = & 2
                        \end{eqnarray*}
                  \item Trường hợp 2: cạnh $e$ được thêm bằng cách nối 2 đỉnh $v_1,v_2$ trong $G$. Vì $G$ liên thông nên tồn tại đường đi giữa $v_1$ và $v_2$.
                        Thêm cạnh $e$ tạo ra chu trình mới, do đó tạo ra diện mới. Vậy nên, $\nu(H) = \nu(G), \phi(H) = \phi(G)+1,\epsilon(H) = \epsilon(G)+1$.
                        Tương tự trường hợp 1, suy ra biểu thức vẫn đúng.
                  \item Trường hợp 3: cạnh $e$ nối đỉnh $v_1 \in V(G)$ với đỉnh mới $v_2$.
                        Khi đó, \mbox{$\nu(H) = \nu(G)+1$}. Vì $v_2$ là đỉnh mới, cạnh $e$ nằm trong diện có đường biên chứa $v_1$, do đó không tạo thêm diện mới, do đó $\phi(H) = \phi(G)$.
                        Ta có:
                        \begin{eqnarray*}
                            \nu(H)-\epsilon(H)+\phi(H)& = &(\nu(G)+1)-(\epsilon(G)+1)+\phi(G) \\
                            & = & \nu(G)-\epsilon(G)+\phi(G)\\
                            & = & 2
                        \end{eqnarray*}
              \end{itemize}

    \end{itemize}
    Từ 3 trường hợp, biểu thức được chứng minh.
\end{proof}


% \begin{figure}[H]
%     \begin{tikzpicture}[scale = 0.5]
%         \draw[black, thick] (-7,-1) -- (7/3,-2);
%         \draw[black, thick] (-7,-1) -- (0,5);
%         \draw[black, thick] (-1,0) -- (7/3,-2);
%         \draw[black, thick] (-1,0) -- (0,5);
%         \draw[black, thick] (-1,0) -- (1,2);
%         \draw[black, thick] (10,-1) -- (1,2);
%         \draw[black, thick] (0,5) -- (1,2);
%         \draw[black, thick] (0,5) -- (10,-1);
%         \draw[black, thick] (4,1) -- (7/3,-2);
%         \draw[black, thick] (10,-1) -- (7/3,-2);

%         \filldraw[black, thick] (-1,0) circle (2pt);
%         \filldraw[black, thick] (4,1) circle (2pt);
%         \filldraw[black, thick] (10,-1) circle (2pt);
%         \filldraw[black, thick] (-7,-1) circle (2pt);
%         \filldraw[black, thick] (1,2) circle (2pt);
%         \filldraw[black, thick] (0,5) circle (2pt);
%         \filldraw[black, thick] (7/3,-2) circle (2pt);
%     \end{tikzpicture}
% \end{figure}

% \begin{figure}[H]

%     \begin{tikzpicture}[scale = 0.5]
%         \draw[black, thick] (-1,2) -- (-2,4);
%         \draw[black, thick] (-4,-1) -- (-8,-2);
%         \draw[black, thick] (4,1) -- (8,2);
%         \draw[black, thick] (1,-2) -- (2,-4);
%         \draw[black, thick] (-1,2) -- (-4,-1);
%         \draw[black, thick] (-4,-1) -- (1,-2);
%         \draw[black, thick] (1,-2) -- (4,1);
%         \draw[black, thick] (4,1) -- (-1,2);
%         \draw[purple, thick] (-2,4) -- (-8,-2);
%         \draw[purple, thick] (-8,-2) -- (2,-4);
%         \draw[purple, thick] (2,-4) -- (8,2);
%         \draw[purple, thick] (8,2) -- (-2,4);

%         \filldraw[black, thick] (-1,2) circle (2pt);
%         \filldraw[black, thick] (-2,4) circle (2pt);
%         \filldraw[black, thick] (-4,-1) circle (2pt);
%         \filldraw[black, thick] (-8,-2) circle (2pt);
%         \filldraw[black, thick] (4,1) circle (2pt);
%         \filldraw[black, thick] (8,2) circle (2pt);
%         \filldraw[black, thick] (1,-2) circle (2pt);
%         \filldraw[black, thick] (2,-4) circle (2pt);
%     \end{tikzpicture}
% \end{figure}

% \begin{definition}[Planarity]
%     A graph is planar if some embedding of it onto the plane has no edge intersections.
% \end{definition}

